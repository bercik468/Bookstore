{"version":3,"sources":["components/OrderView.js","components/Order.js","components/Header.js","components/BookView.js","fbase.js","components/Inventory.js","components/App.js","components/LoginPanel.js","components/AddBookForm.js","store/actions.js","components/AdminBookView.js","components/AdminBookListing.js","components/AdminPanel.js","components/PageNotFound.js","store/adminPanelReducer.js","store/store.js","components/Router.js","index.js"],"names":["OrderView","className","this","props","book","name","onClick","event","removeFromOrder","React","Component","Order","orderedBooks","order","map","Header","style","color","backgroundColor","to","BookView","src","image","width","height","alt","author","addToOrder","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","fbase","Rebase","createClass","database","Inventory","state","ref","syncState","context","removeBinding","bookListing","Array","isArray","books","key","App","setState","title","filter","LoginPanel","authenticate","preventDefault","auth","signInWithEmailAndPassword","email","password","then","changeLoggedIn","catch","console","log","handleLoginChange","target","value","onSubmit","type","placeholder","id","onChange","AddBook","handleChange","newBook","checked","updateBook","addNewBook","editMode","editBook","titleOfBookForRemoval","description","onStock","reset","label","htmlFor","AddBookForm","connect","dispatch","payload","updateBookAction","sendBookToEdit","removeFromInventory","AdminBookView","sendBookToEditAction","AdminBookListing","list","AdminPanel","newValue","loggedIn","oldBookTitle","bookAfterEdit","newBooks","PageNotFound","initialState","adminPanelReducer","action","bookToEdit","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","Router","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c272364.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class OrderView extends React.Component {\n  render() {\n    return (\n      <div className=\"orderView row\">\n        <div className=\"col-xs-8\">\n          <span>{this.props.book.name}</span>\n        </div>\n        <div className=\"col-xs-4\">\n          <button\n            className=\"btn btn-danger\"\n            onClick={(event) =>\n              this.props.removeFromOrder(this.props.book.name)\n            }\n          >\n            Remove\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport OrderView from \"./OrderView\";\n\nclass Order extends React.Component {\n  render() {\n    const orderedBooks = this.props.order.map((order) => {\n      return (\n        <OrderView book={order} removeFromOrder={this.props.removeFromOrder} />\n      );\n    });\n\n    return (\n      <div className=\"order col-xs-6\">\n        <h2>Your order:</h2>\n        {orderedBooks}\n      </div>\n    );\n  }\n}\n\nexport default Order;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Header extends React.Component {\n  render() {\n    let headerCss = {\n      color: \"white\",\n      backgroundColor: \"black\",\n    };\n\n    return (\n      <div className=\"row header\" style={headerCss}>\n        <center>\n          <h1>Bookstore</h1>\n        </center>\n        <Link to=\"/admin\">\n          <button className=\"btn btn-info goToAdmin\">\n            Administrator Panel\n          </button>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport default class BookView extends React.Component {\n  render() {\n    return (\n      <div className=\"bookView row\">\n        <div className=\"col-xs-4\">\n          <img\n            src={this.props.book.image}\n            width=\"75\"\n            height=\"100\"\n            alt={this.props.book.name}\n          />\n        </div>\n        <div className=\"col-xs-4\">\n          <b>{this.props.book.name}</b>\n          <br />\n          <i>{this.props.book.author}</i>\n          <br />\n        </div>\n        <div className=\"col-xs-4\">\n          <button\n            className=\"btn btn-primary\"\n            onClick={(event) => this.props.addToOrder(this.props.book)}\n          >\n            Add to Order\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import Rebase from \"re-base\";\nimport firebase from \"firebase\";\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: \"AIzaSyBpxRy2jccSIsjRMchX2Jz2opisGEivfsU\",\n  authDomain: \"bookstore-6c2d7.firebaseapp.com\",\n  databaseURL: \"https://bookstore-6c2d7.firebaseio.com\",\n  projectId: \"bookstore-6c2d7\",\n  storageBucket: \"bookstore-6c2d7.appspot.com\",\n  messagingSenderId: \"55593945072\",\n  appId: \"1:55593945072:web:c0c7a3bdd0f40d48107f35\",\n  measurementId: \"G-45DECGV7R3\",\n});\n\nconst fbase = Rebase.createClass(firebaseApp.database());\n\nexport { fbase, firebaseApp };\n","import React from \"react\";\nimport BookView from \"./BookView\";\nimport { fbase } from \"../fbase\";\n\nclass Inventory extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.ref = fbase.syncState(\"bookstore/books\", {\n      context: this,\n      state: \"books\",\n    });\n  }\n\n  componentWillUnmount() {\n    fbase.removeBinding(this.ref);\n  }\n\n  render() {\n    let bookListing = <h4>No books on stock, sorry</h4>;\n\n    if (Array.isArray(this.state.books)) {\n      bookListing = this.state.books.map((book) => {\n        return (\n          <BookView\n            key={book.name}\n            book={book}\n            addToOrder={this.props.addToOrder}\n          />\n        );\n      });\n    }\n\n    return (\n      <div className=\"inventory col-xs-6\">\n        <h2>Bookstore inventory:</h2>\n        {bookListing}\n      </div>\n    );\n  }\n}\n\nexport default Inventory;\n","import React from \"react\";\nimport Order from \"./Order\";\nimport Header from \"./Header\";\nimport Inventory from \"./Inventory\";\n\nimport \"../index.css\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      order: [],\n    };\n  }\n\n  addToOrder = (book) => {\n    this.setState({\n      order: [...this.state.order, book],\n    });\n  };\n\n  removeFromOrder = (title) => {\n    this.setState({\n      order: this.state.order.filter((book) => title !== book.name),\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"app container\">\n        <Header />\n        <div className=\"row\">\n          <Order\n            order={this.state.order}\n            removeFromOrder={this.removeFromOrder}\n          />\n          <Inventory books={this.state.books} addToOrder={this.addToOrder} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport { firebaseApp } from \"../fbase\";\n\nclass LoginPanel extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n    };\n  }\n\n  authenticate = (event) => {\n    event.preventDefault();\n    firebaseApp\n      .auth()\n      .signInWithEmailAndPassword(this.state.email, this.state.password)\n      .then(() => {\n        this.props.changeLoggedIn(true);\n      })\n      .catch(() => {\n        console.log(\"Unable to authenticate\");\n      });\n  };\n\n  handleLoginChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"col-xs-4 loginForm\">\n        <form onSubmit={this.authenticate}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              placeholder=\"email\"\n              id=\"email_bs\"\n              name=\"email\"\n              className=\"form-control\"\n              onChange={this.handleLoginChange}\n              value={this.state.email}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              id=\"password_bs\"\n              name=\"password\"\n              className=\"form-control\"\n              onChange={this.handleLoginChange}\n              value={this.state.password}\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Log in\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginPanel;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateBookAction } from \"../store/actions\";\r\n\r\nclass AddBook extends React.Component {\r\n  handleChange = (event) => {\r\n    let newBook;\r\n\r\n    if (event.target.name === \"onStock\") {\r\n      newBook = {\r\n        ...this.props.book,\r\n        [event.target.name]: event.target.checked,\r\n      };\r\n    } else {\r\n      newBook = {\r\n        ...this.props.book,\r\n        [event.target.name]: event.target.value,\r\n      };\r\n    }\r\n\r\n    this.props.updateBook(newBook);\r\n  };\r\n\r\n  addNewBook = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!this.props.editMode) {\r\n      const newBook = { ...this.props.book };\r\n\r\n      this.props.addNewBook(newBook);\r\n\r\n      this.props.updateBook({\r\n        name: \"\",\r\n        author: \"\",\r\n        description: \"\",\r\n        onStock: true,\r\n        image: \"\",\r\n      });\r\n    } else {\r\n      const newBook = { ...this.props.book };\r\n\r\n      this.props.editBook(this.props.titleOfBookForRemoval, newBook);\r\n\r\n      this.props.updateBook({\r\n        name: \"\",\r\n        author: \"\",\r\n        description: \"\",\r\n        onStock: true,\r\n        image: \"\",\r\n      });\r\n    }\r\n\r\n    event.target.reset();\r\n  };\r\n\r\n  render() {\r\n    const label = this.props.editMode ? \"Edit\" : \"Add\";\r\n\r\n    return (\r\n      <div className=\"adminPanel col-xs-4\">\r\n        <form onSubmit={this.addNewBook}>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Book name\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              className=\"form-control\"\r\n              onChange={this.handleChange}\r\n              value={this.props.book.name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Book author\"\r\n              id=\"author\"\r\n              name=\"author\"\r\n              className=\"form-control\"\r\n              onChange={this.handleChange}\r\n              value={this.props.book.author}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              placeholder=\"Book description\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              className=\"form-control\"\r\n              onChange={this.handleChange}\r\n              value={this.props.book.description}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"onStock\"\r\n              name=\"onStock\"\r\n              className=\"form-check-input\"\r\n              onChange={this.handleChange}\r\n              value={this.props.book.onStock}\r\n            />\r\n            <label htmlFor=\"onStock\" className=\"form-check-label\">\r\n              On stock\r\n            </label>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Book image\"\r\n              id=\"image\"\r\n              name=\"image\"\r\n              className=\"form-control\"\r\n              onChange={this.handleChange}\r\n              value={this.props.book.image}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            {label}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateBook: (book) => dispatch(updateBookAction(book)),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    book: state.book,\r\n    editMode: state.editMode,\r\n    titleOfBookForRemoval: state.titleOfBookForRemoval,\r\n  };\r\n};\r\n\r\nconst AddBookForm = connect(mapStateToProps, mapDispatchToProps)(AddBook);\r\n\r\nexport default AddBookForm;\r\n","export const UPDATE_BOOK = \"UPDATE_BOOK\";\nexport const SEND_BOOK_TO_EDIT = \"SEND_BOOK_TO_EDIT\";\n\nexport const updateBookAction = (book) => {\n  return {\n    type: UPDATE_BOOK,\n    payload: book,\n  };\n};\n\nexport const sendBookToEditAction = (book) => {\n  return {\n    type: SEND_BOOK_TO_EDIT,\n    payload: book,\n  };\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { sendBookToEditAction } from \"../store/actions\";\n\nclass BookView extends React.Component {\n  render() {\n    return (\n      <div className=\"orderView row\">\n        <div className=\"col-xs-8\">\n          <span>\n            {this.props.book.name} {this.props.book.author}\n          </span>\n        </div>\n        <div className=\"col-xs-2\">\n          <button\n            className=\"btn btn-danger\"\n            onClick={(event) => this.props.sendBookToEdit(this.props.book)}\n          >\n            Edit\n          </button>\n        </div>\n        <div className=\"col-xs-2\">\n          <button\n            className=\"btn btn-danger\"\n            onClick={(event) =>\n              this.props.removeFromInventory(this.props.book.name)\n            }\n          >\n            Remove\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {};\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    sendBookToEdit: (book) => dispatch(sendBookToEditAction(book)),\n  };\n};\n\nconst AdminBookView = connect(mapStateToProps, mapDispatchToProps)(BookView);\n\nexport default AdminBookView;\n","import React from \"react\";\nimport AdminBookView from \"./AdminBookView\";\n\nclass AdminBookListing extends React.Component {\n  render() {\n    let list = <div>No books in state</div>;\n\n    if (this.props.books && Array.isArray(this.props.books)) {\n      list = this.props.books.map((book) => {\n        return (\n          <AdminBookView\n            key={book.name}\n            book={book}\n            removeFromInventory={this.props.removeFromInventory}\n          />\n        );\n      });\n    }\n\n    return <div className=\"col-xs-4\">{list}</div>;\n  }\n}\n\nexport default AdminBookListing;\n","import React from \"react\";\nimport LoginPanel from \"./LoginPanel\";\nimport AddBookForm from \"./AddBookForm\";\nimport AdminBookListing from \"./AdminBookListing\";\nimport { fbase } from \"../fbase\";\n\nclass AdminPanel extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n    };\n  }\n\n  changeLoggedIn = (newValue) => this.setState({ loggedIn: newValue });\n\n  addNewBook = (book) => {\n    if (Array.isArray(this.state.books)) {\n      this.setState({ books: [...this.state.books, book] });\n    } else {\n      this.setState({ books: [book] });\n    }\n  };\n\n  componentDidMount() {\n    this.ref = fbase.syncState(\"bookstore/books\", {\n      context: this,\n      state: \"books\",\n    });\n  }\n\n  componentWillUnmount() {\n    fbase.removeBinding(this.ref);\n  }\n\n  removeFromInventory = (title) => {\n    this.setState({\n      books: this.state.books.filter((book) => title !== book.name),\n    });\n  };\n\n  editBook = (oldBookTitle, bookAfterEdit) => {\n    const newBooks = this.state.books.filter(\n      (book) => oldBookTitle !== book.name\n    );\n\n    this.setState({\n      books: [...newBooks, bookAfterEdit],\n    });\n  };\n  render() {\n    return (\n      <div className=\"center\">\n        {!this.state.loggedIn && (\n          <LoginPanel changeLoggedIn={this.changeLoggedIn} />\n        )}\n        {this.state.loggedIn && (\n          <>\n            <AddBookForm\n              addNewBook={this.addNewBook}\n              editBook={this.editBook}\n            />\n            <AdminBookListing\n              books={this.state.books}\n              removeFromInventory={this.removeFromInventory}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default AdminPanel;\n","import React from \"react\";\n\nconst PageNotFound = () => {\n  return (\n    <>\n      <h2>Page Not Found!</h2>\n      <p>Please check URL address</p>\n    </>\n  );\n};\n\nexport default PageNotFound;\n","import { SEND_BOOK_TO_EDIT, UPDATE_BOOK } from \"./actions\";\n\nconst initialState = {\n  book: {\n    name: \"\",\n    author: \"\",\n    description: \"\",\n    onStock: true,\n    image: \"\",\n  },\n  editMode: false,\n  titleOfBookForRemoval: \"\",\n};\n\nconst adminPanelReducer = (state = initialState, action) => {\n  console.log(\"Action received \" + action.type);\n\n  switch (action.type) {\n    case UPDATE_BOOK:\n      const book = action.payload;\n      return { ...state, book };\n    case SEND_BOOK_TO_EDIT:\n      const bookToEdit = action.payload;\n      return {\n        ...state,\n        book: { ...bookToEdit },\n        editMode: true,\n        titleOfBookForRemoval: bookToEdit.name,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default adminPanelReducer;\n","import { createStore } from \"redux\";\nimport adminPanelReducer from \"./adminPanelReducer\";\n\nconst store = createStore(\n  adminPanelReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport App from \"./App\";\nimport AdminPanel from \"./AdminPanel\";\nimport PageNotFound from \"./PageNotFound\";\nimport { Provider } from \"react-redux\";\nimport store from \"../store/store\";\n\nexport default class Router extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/Bookstore\" component={App} />\n            <Route path=\"/admin\" component={AdminPanel} />\n            <Route component={PageNotFound} />\n          </Switch>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./components/Router\";\n\nimport \"./index.css\";\n\nReactDOM.render(<Router />, document.getElementById(\"root\"));\n"],"sourceRoot":""}