(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{34:function(e,t,a){},38:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(25),c=a.n(r),s=a(4),i=a(5),l=a(7),m=a(6),u=a(27),d=a(8),p=a(23),b=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"orderView row"},n.a.createElement("div",{className:"col-xs-8"},n.a.createElement("span",null,this.props.book.name)),n.a.createElement("div",{className:"col-xs-4"},n.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.removeFromOrder(e.props.book.name)}},"Remove")))}}]),a}(n.a.Component),h=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.order.map((function(t){return n.a.createElement(b,{book:t,removeFromOrder:e.props.removeFromOrder})}));return n.a.createElement("div",{className:"order col-xs-6"},n.a.createElement("h2",null,"Your order:"),t)}}]),a}(n.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClick=function(){e.state.clicked?e.setState({bookstoreName:"White Books",textColor:"black",backgroundColor:"white"}):e.setState({bookstoreName:"Black Books",textColor:"white",backgroundColor:"black"}),e.setState({clicked:!e.state.clicked})},e.state={bookstoreName:"Black Books",clicked:!0,textColor:"white",backgroundColor:"black"},e}return Object(i.a)(a,[{key:"render",value:function(){var e={color:this.state.textColor,backgroundColor:this.state.backgroundColor};return n.a.createElement("div",{className:"row header",style:e,onClick:this.handleClick},n.a.createElement("center",null,n.a.createElement("h1",null,this.state.bookstoreName)),n.a.createElement(u.b,{to:"/admin"},n.a.createElement("button",{className:"btn btn-info goToAdmin"},"Administrator Panel")))}}]),a}(n.a.Component),v=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"bookView row"},n.a.createElement("div",{className:"col-xs-4"},n.a.createElement("img",{src:this.props.book.image,width:"75",height:"100",alt:this.props.book.name})),n.a.createElement("div",{className:"col-xs-4"},n.a.createElement("b",null,this.props.book.name),n.a.createElement("br",null),n.a.createElement("i",null,this.props.book.author),n.a.createElement("br",null)),n.a.createElement("div",{className:"col-xs-4"},n.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.props.addToOrder(e.props.book)}},"Add to Order")))}}]),a}(n.a.Component),f=a(35),O=a.n(f),E=a(36),g=a.n(E).a.initializeApp({apiKey:"AIzaSyBpxRy2jccSIsjRMchX2Jz2opisGEivfsU",authDomain:"bookstore-6c2d7.firebaseapp.com",databaseURL:"https://bookstore-6c2d7.firebaseio.com",projectId:"bookstore-6c2d7",storageBucket:"bookstore-6c2d7.appspot.com",messagingSenderId:"55593945072",appId:"1:55593945072:web:c0c7a3bdd0f40d48107f35",measurementId:"G-45DECGV7R3"}),j=O.a.createClass(g.database()),y=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.ref=j.syncState("bookstore/books",{context:this,state:"books"})}},{key:"componentWillUnmount",value:function(){j.removeBinding(this.ref)}},{key:"render",value:function(){var e=this,t=n.a.createElement("h4",null,"No books on stock, sorry");return Array.isArray(this.state.books)&&(t=this.state.books.map((function(t){return n.a.createElement(v,{key:t.name,book:t,addToOrder:e.props.addToOrder})}))),n.a.createElement("div",{className:"inventory col-xs-6"},n.a.createElement("h2",null,"Bookstore inventory:"),t)}}]),a}(n.a.Component),N=(a(34),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).addToOrder=function(t){e.setState({order:[].concat(Object(p.a)(e.state.order),[t])})},e.removeFromOrder=function(t){e.setState({order:e.state.order.filter((function(e){return t!==e.name}))})},e.state={order:[]},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"app container"},n.a.createElement(k,null),n.a.createElement("div",{className:"row"},n.a.createElement(h,{order:this.state.order,removeFromOrder:this.removeFromOrder}),n.a.createElement(y,{books:this.state.books,addToOrder:this.addToOrder})))}}]),a}(n.a.Component)),C=a(18),B=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).authenticate=function(t){t.preventDefault(),g.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){e.props.changeLoggedIn(!0)})).catch((function(){console.log("Unable to authenticate")}))},e.handleLoginChange=function(t){e.setState(Object(C.a)({},t.target.name,t.target.value))},e.state={email:"",password:""},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"col-xs-4 col-xs-offset-2 loginForm"},n.a.createElement("form",{onSubmit:this.authenticate},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",placeholder:"email",id:"email_bs",name:"email",className:"form-control",onChange:this.handleLoginChange,value:this.state.email})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"password",id:"password_bs",name:"password",className:"form-control",onChange:this.handleLoginChange,value:this.state.password})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log in")))}}]),a}(n.a.Component),w=a(14),S=a(20),x=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t){var a;a="onStock"===t.target.name?Object(w.a)(Object(w.a)({},e.props.book),{},Object(C.a)({},t.target.name,t.target.checked)):Object(w.a)(Object(w.a)({},e.props.book),{},Object(C.a)({},t.target.name,t.target.value)),e.props.updateBook(a)},e.addNewBook=function(t){if(t.preventDefault(),e.props.editMode){var a=Object(w.a)({},e.props.book);e.props.editBook(e.props.titleOfBookForRemoval,a),e.props.updateBook({name:"",author:"",description:"",onStock:!0,image:""})}else{var o=Object(w.a)({},e.props.book);e.props.addNewBook(o),e.props.updateBook({name:"",author:"",description:"",onStock:!0,image:""})}t.target.reset()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.editMode?"Edit":"Add";return n.a.createElement("div",{className:"adminPanel col-xs-4"},n.a.createElement("form",{onSubmit:this.addNewBook},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",placeholder:"Book name",id:"name",name:"name",className:"form-control",onChange:this.handleChange,value:this.props.book.name})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",placeholder:"Book author",id:"author",name:"author",className:"form-control",onChange:this.handleChange,value:this.props.book.author})),n.a.createElement("div",{className:"form-group"},n.a.createElement("textarea",{placeholder:"Book description",id:"description",name:"description",className:"form-control",onChange:this.handleChange,value:this.props.book.description})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"checkbox",id:"onStock",name:"onStock",className:"form-check-input",onChange:this.handleChange,value:this.props.book.onStock}),n.a.createElement("label",{htmlFor:"onStock",className:"form-check-label"},"On stock")),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",placeholder:"Book image",id:"image",name:"image",className:"form-control",onChange:this.handleChange,value:this.props.book.image})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},e)))}}]),a}(n.a.Component),I=Object(S.b)((function(e){return{book:e.book,editMode:e.editMode,titleOfBookForRemoval:e.titleOfBookForRemoval}}),(function(e){return{updateBook:function(t){return e(function(e){return{type:"UPDATE_BOOK",payload:e}}(t))}}}))(x),F=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"orderView row"},n.a.createElement("div",{className:"col-xs-8"},n.a.createElement("span",null,this.props.book.name," ",this.props.book.author)),n.a.createElement("div",{className:"col-xs-2"},n.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.sendBookToEdit(e.props.book)}},"Edit")),n.a.createElement("div",{className:"col-xs-2"},n.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.removeFromInventory(e.props.book.name)}},"Remove")))}}]),a}(n.a.Component),_=Object(S.b)((function(e){return{}}),(function(e){return{sendBookToEdit:function(t){return e(function(e){return{type:"SEND_BOOK_TO_EDIT",payload:e}}(t))}}}))(F),T=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=n.a.createElement("div",null,"No books in state");return this.props.books&&Array.isArray(this.props.books)&&(t=this.props.books.map((function(t){return n.a.createElement(_,{key:t.name,book:t,removeFromInventory:e.props.removeFromInventory})}))),n.a.createElement("div",null,t)}}]),a}(n.a.Component),A=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).changeLoggedIn=function(t){return e.setState({loggedIn:t})},e.addNewBook=function(t){Array.isArray(e.state.books)?e.setState({books:[].concat(Object(p.a)(e.state.books),[t])}):e.setState({books:[t]})},e.removeFromInventory=function(t){e.setState({books:e.state.books.filter((function(e){return t!==e.name}))})},e.editBook=function(t,a){var o=e.state.books.filter((function(e){return t!==e.name}));e.setState({books:[].concat(Object(p.a)(o),[a])})},e.state={loggedIn:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.ref=j.syncState("bookstore/books",{context:this,state:"books"})}},{key:"componentWillUnmount",value:function(){j.removeBinding(this.ref)}},{key:"render",value:function(){return n.a.createElement("div",null,!this.state.loggedIn&&n.a.createElement(B,{changeLoggedIn:this.changeLoggedIn}),this.state.loggedIn&&n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{addNewBook:this.addNewBook,editBook:this.editBook}),n.a.createElement(T,{books:this.state.books,removeFromInventory:this.removeFromInventory})))}}]),a}(n.a.Component),D=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Page Not Found!"),n.a.createElement("p",null,"Please check URL address"))},R=a(28),L={book:{name:"",author:"",description:"",onStock:!0,image:""},editMode:!1,titleOfBookForRemoval:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action received "+t.type),t.type){case"UPDATE_BOOK":var a=t.payload;return Object(w.a)(Object(w.a)({},e),{},{book:a});case"SEND_BOOK_TO_EDIT":var o=t.payload;return Object(w.a)(Object(w.a)({},e),{},{book:Object(w.a)({},o),editMode:!0,titleOfBookForRemoval:o.name});default:return e}},M=Object(R.b)(U,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),P=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement(S.a,{store:M},n.a.createElement(u.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/Bookstore",component:N}),n.a.createElement(d.a,{path:"/admin",component:A}),n.a.createElement(d.a,{component:D}))))}}]),a}(n.a.Component);c.a.render(n.a.createElement(P,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.b9740e0b.chunk.js.map